import{e as u,s as c,f as p,g as l,n as m,i as r,L as k,v as s,h as _,t as w,u as V,o as v}from"./vendor.Da2sdW28.js";import{k as U,m as y}from"./index.DuRPLurf.js";import"./index.BYIGvkoh.js";const M={class:"min-h-screen bg-gray-50 pb-6"},C={class:"px-4 mt-4"},B={class:"bg-white rounded-xl p-4 shadow-sm"},I={class:"mb-4"},j={class:"flex items-center gap-2 mb-2"},z={key:0,class:"grid grid-cols-2 gap-3"},D={key:0,class:"space-y-4"},A={class:"grid grid-cols-2 gap-3"},N={class:"grid grid-cols-2 gap-3"},L={class:"grid grid-cols-2 gap-3"},S={class:"px-4 mt-4"},T={class:"bg-white rounded-xl p-4 shadow-sm"},E={class:"space-y-3"},R={class:"grid grid-cols-3 gap-2"},q={class:"px-4 mt-6"},F=["disabled"],O={__name:"MerchantInfo",setup(G){const i=V(),d=u(!1),a=u(!1),t=u({morning_start:"",morning_end:"",afternoon_start:"",afternoon_end:"",evening_start:"",evening_end:"",all_day_start:"",all_day_end:"",province:"",city:"",district:"",address:""}),g=()=>{i.back()},b=()=>{a.value?(t.value.morning_start="",t.value.morning_end="",t.value.afternoon_start="",t.value.afternoon_end="",t.value.evening_start="",t.value.evening_end=""):(t.value.all_day_start="",t.value.all_day_end="")},x=async()=>{try{const n=U();if(!n){i.push("/login");return}const o=(await y.getMerchant(n)).data.data;o.all_day_start||o.all_day_end?(a.value=!0,t.value.all_day_start=o.all_day_start||"",t.value.all_day_end=o.all_day_end||""):(a.value=!1,t.value.morning_start=o.morning_start||"",t.value.morning_end=o.morning_end||"",t.value.afternoon_start=o.afternoon_start||"",t.value.afternoon_end=o.afternoon_end||"",t.value.evening_start=o.evening_start||"",t.value.evening_end=o.evening_end||""),t.value.province=o.province||"",t.value.city=o.city||"",t.value.district=o.district||"",t.value.address=o.address||""}catch(n){console.error("获取商户信息失败:",n)}},f=async()=>{var n,e;if(!d.value){d.value=!0;try{await y.updateMerchantInfo(t.value),alert("保存成功"),i.back()}catch(o){alert(((e=(n=o.response)==null?void 0:n.data)==null?void 0:e.error)||"保存失败")}finally{d.value=!1}}};return c(()=>{x()}),(n,e)=>(v(),p("div",M,[l("header",{class:"bg-white px-4 py-3 flex items-center gap-3 border-b sticky top-0 z-10"},[l("button",{onClick:g,class:"p-1"},[...e[13]||(e[13]=[l("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),e[14]||(e[14]=l("span",{class:"font-medium text-gray-800"},"商家信息设置",-1))]),l("div",C,[l("div",B,[e[27]||(e[27]=l("div",{class:"flex items-center gap-2 mb-4"},[l("svg",{class:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),l("span",{class:"font-medium text-gray-800"},"营业时间")],-1)),l("div",I,[l("label",j,[r(l("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o),onChange:b,class:"w-4 h-4 text-primary"},null,544),[[k,a.value]]),e[15]||(e[15]=l("span",{class:"text-sm text-gray-700"},"全天营业（不分时间段）",-1))]),a.value?(v(),p("div",z,[l("div",null,[e[16]||(e[16]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"开始时间",-1)),r(l("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.all_day_start=o),type:"time",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"},null,512),[[s,t.value.all_day_start]])]),l("div",null,[e[17]||(e[17]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"结束时间",-1)),r(l("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.all_day_end=o),type:"time",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"},null,512),[[s,t.value.all_day_end]])])])):m("",!0)]),a.value?m("",!0):(v(),p("div",D,[l("div",null,[e[20]||(e[20]=l("label",{class:"text-sm font-medium text-gray-700 mb-2 block"},"上午营业时间",-1)),l("div",A,[l("div",null,[e[18]||(e[18]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"开始",-1)),r(l("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.morning_start=o),type:"time",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"},null,512),[[s,t.value.morning_start]])]),l("div",null,[e[19]||(e[19]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"结束",-1)),r(l("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.morning_end=o),type:"time",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"},null,512),[[s,t.value.morning_end]])])])]),l("div",null,[e[23]||(e[23]=l("label",{class:"text-sm font-medium text-gray-700 mb-2 block"},"下午营业时间",-1)),l("div",N,[l("div",null,[e[21]||(e[21]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"开始",-1)),r(l("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>t.value.afternoon_start=o),type:"time",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"},null,512),[[s,t.value.afternoon_start]])]),l("div",null,[e[22]||(e[22]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"结束",-1)),r(l("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>t.value.afternoon_end=o),type:"time",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"},null,512),[[s,t.value.afternoon_end]])])])]),l("div",null,[e[26]||(e[26]=l("label",{class:"text-sm font-medium text-gray-700 mb-2 block"},"晚上营业时间",-1)),l("div",L,[l("div",null,[e[24]||(e[24]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"开始",-1)),r(l("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>t.value.evening_start=o),type:"time",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"},null,512),[[s,t.value.evening_start]])]),l("div",null,[e[25]||(e[25]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"结束",-1)),r(l("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>t.value.evening_end=o),type:"time",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"},null,512),[[s,t.value.evening_end]])])])])]))])]),l("div",S,[l("div",T,[e[32]||(e[32]=_('<div class="flex items-center gap-2 mb-4"><svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><span class="font-medium text-gray-800">商家地址</span></div>',1)),l("div",E,[l("div",R,[l("div",null,[e[28]||(e[28]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"省份",-1)),r(l("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>t.value.province=o),type:"text",placeholder:"如：浙江省",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary text-sm"},null,512),[[s,t.value.province]])]),l("div",null,[e[29]||(e[29]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"城市",-1)),r(l("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>t.value.city=o),type:"text",placeholder:"如：杭州市",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary text-sm"},null,512),[[s,t.value.city]])]),l("div",null,[e[30]||(e[30]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"区县",-1)),r(l("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>t.value.district=o),type:"text",placeholder:"如：西湖区",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary text-sm"},null,512),[[s,t.value.district]])])]),l("div",null,[e[31]||(e[31]=l("label",{class:"text-xs text-gray-500 mb-1 block"},"详细地址",-1)),r(l("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>t.value.address=o),type:"text",placeholder:"街道门牌号，如：西溪路1号",class:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary text-sm"},null,512),[[s,t.value.address]])])])])]),l("div",q,[l("button",{onClick:f,disabled:d.value,class:"w-full py-3 bg-primary text-white font-medium rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},w(d.value?"保存中...":"保存设置"),9,F)])]))}};export{O as default};
