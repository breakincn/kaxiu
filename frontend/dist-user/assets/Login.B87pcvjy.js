import{e as i,f as b,g as t,h as f,w as v,i as d,v as u,t as g,j as y,k as w,r as _,u as k,o as h,l as S}from"./vendor.Da2sdW28.js";import{a as V}from"./index.DuRPLurf.js";import"./index.BYIGvkoh.js";const N={class:"min-h-screen bg-gray-50 flex items-center justify-center px-4"},I={class:"w-full max-w-md"},j={class:"bg-white rounded-2xl p-6 shadow-lg"},B={class:"mb-4"},T={class:"mb-6"},q=["disabled"],C={class:"mt-6 text-center"},D={class:"mb-2"},E={__name:"Login",setup(L){const m=k(),o=i(""),l=i(""),r=i(!1),p=async()=>{var n,e;r.value=!0;try{const s=await V.login(o.value,l.value),{token:a,user_id:c,nickname:x}=s.data.data;localStorage.setItem("userToken",a),localStorage.setItem("userId",c),localStorage.setItem("userName",x||o.value),m.push("/user/cards")}catch(s){alert(((e=(n=s.response)==null?void 0:n.data)==null?void 0:e.error)||"登录失败，请重试")}finally{r.value=!1}};return(n,e)=>{const s=_("router-link");return h(),b("div",N,[t("div",I,[e[7]||(e[7]=f('<div class="text-center mb-8"><div class="flex items-center justify-center gap-2 mb-2"><span class="text-primary font-bold text-3xl">卡包</span><span class="text-gray-400 text-sm">kabao.app</span></div><p class="text-gray-500">用户登录</p></div>',1)),t("div",j,[e[6]||(e[6]=t("h2",{class:"text-xl font-bold text-gray-800 mb-6"},"欢迎回来",-1)),t("form",{onSubmit:v(p,["prevent"])},[t("div",B,[e[2]||(e[2]=t("label",{class:"block text-gray-700 text-sm font-medium mb-2"},"手机号/用户名",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),type:"text",placeholder:"请输入手机号或用户名",class:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:""},null,512),[[u,o.value]])]),t("div",T,[e[3]||(e[3]=t("label",{class:"block text-gray-700 text-sm font-medium mb-2"},"密码",-1)),d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),type:"password",placeholder:"请输入密码",class:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:""},null,512),[[u,l.value]])]),t("button",{type:"submit",disabled:r.value,class:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50"},g(r.value?"登录中...":"登录"),9,q)],32),t("div",C,[t("div",D,[e[5]||(e[5]=t("span",{class:"text-sm text-gray-500"},"还没有账号？",-1)),y(s,{to:"/user/register",class:"text-sm text-primary hover:underline ml-1"},{default:w(()=>[...e[4]||(e[4]=[S(" 立即注册 ",-1)])]),_:1})])])])])])}}};export{E as default};
